# å¾®ä¿¡## åŠŸèƒ½ç‰¹æ€§

- ğŸ¤– **AIæ™ºèƒ½æ€»ç»“**: ä½¿ç”¨DeepSeek APIå°†æ–°é—»æ€»ç»“ä¸º150-300å­—çš„ä¸“é—¨ä¼˜åŒ–å†…å®¹
- ğŸ“± **å¾®ä¿¡è‡ªåŠ¨å‘é€**: ä½¿ç”¨wxautoåº“è‡ªåŠ¨å‘é€æ¶ˆæ¯åˆ°æŒ‡å®šè”ç³»äºº
- â° **å®šæ—¶ä»»åŠ¡**: æ¯5åˆ†é’Ÿè‡ªåŠ¨æ£€æŸ¥RSSæ›´æ–°
- ğŸ“° **RSSæ”¯æŒ**: æ”¯æŒæ ‡å‡†RSS/Atomæ ¼å¼çš„æ–°é—»æº
- ğŸ¯ **è´¨é‡ç­›é€‰**: åªå‘é€AIè¯„åˆ†7åˆ†ä»¥ä¸Šçš„é«˜è´¨é‡æ–‡ç« 
- ğŸ“ **æ™ºèƒ½å»é‡**: æŒ‰å¤©ç»´åº¦å»é™¤ç›¸åŒæ ‡é¢˜çš„é‡å¤æ–‡ç« 
- ğŸ• **æ—¶é—´æ§åˆ¶**: æ™šä¸Š12ç‚¹åˆ°æ—©ä¸Š9ç‚¹ä¹‹é—´ä¸å‘é€æ¶ˆæ¯
- ğŸ² **éšæœºå»¶è¿Ÿ**: å‘é€é—´éš”æ·»åŠ 0-15ç§’éšæœºå»¶è¿Ÿï¼Œé¿å…æœºæ¢°åŒ–
- ğŸ“‹ **å®Œæ•´æ—¥å¿—**: è¯¦ç»†çš„è¿è¡Œæ—¥å¿—è®°å½•
- âš™ï¸ **çµæ´»é…ç½®**: é€šè¿‡ç¯å¢ƒå˜é‡é…ç½®å„é¡¹å‚æ•°
- ğŸ”’ **æ•æ„Ÿä¿¡æ¯ä¿æŠ¤**: å®Œæ•´çš„.gitignoreé…ç½®
- ğŸ§ª **å®Œæ•´æµ‹è¯•**: åŒ…å«å•å…ƒæµ‹è¯•å’Œé›†æˆæµ‹è¯•åŠ¡

ä¸€ä¸ªè‡ªåŠ¨è·å–RSSæ–°é—»å¹¶é€šè¿‡å¾®ä¿¡å‘é€AIæ€»ç»“çš„PythonæœåŠ¡ã€‚

## åŠŸèƒ½ç‰¹æ€§

- ğŸ¤– **AIæ™ºèƒ½æ€»ç»“**: ä½¿ç”¨OpenAI APIå°†æ–°é—»æ€»ç»“ä¸º100-200å­—çš„å¾®ä¿¡æ¶ˆæ¯
- ğŸ“± **å¾®ä¿¡è‡ªåŠ¨å‘é€**: ä½¿ç”¨wxautoåº“è‡ªåŠ¨å‘é€æ¶ˆæ¯åˆ°æŒ‡å®šè”ç³»äºº
- â° **å®šæ—¶ä»»åŠ¡**: æ¯5åˆ†é’Ÿè‡ªåŠ¨æ£€æŸ¥RSSæ›´æ–°
- ğŸ“° **RSSæ”¯æŒ**: æ”¯æŒæ ‡å‡†RSS/Atomæ ¼å¼çš„æ–°é—»æº
- ï¿½ **æ™ºèƒ½å»é‡**: æŒ‰å¤©ç»´åº¦å»é™¤ç›¸åŒæ ‡é¢˜çš„é‡å¤æ–‡ç« 
- ï¿½ğŸ“ **å®Œæ•´æ—¥å¿—**: è¯¦ç»†çš„è¿è¡Œæ—¥å¿—è®°å½•
- âš™ï¸ **çµæ´»é…ç½®**: é€šè¿‡ç¯å¢ƒå˜é‡é…ç½®å„é¡¹å‚æ•°
- ğŸ§ª **å®Œæ•´æµ‹è¯•**: åŒ…å«å•å…ƒæµ‹è¯•å’Œé›†æˆæµ‹è¯•

## å¿«é€Ÿå¼€å§‹

### 1. å®‰è£…ä¾èµ–

```bash
# åˆ›å»ºè™šæ‹Ÿç¯å¢ƒ
python -m venv .venv

# æ¿€æ´»è™šæ‹Ÿç¯å¢ƒ (Windows)
.\.venv\Scripts\activate

# æ¿€æ´»è™šæ‹Ÿç¯å¢ƒ (Linux/Mac)
source .venv/bin/activate

# å®‰è£…ä¾èµ–
pip install -r requirements.txt

# å®‰è£…å¼€å‘ä¾èµ–ï¼ˆå¯é€‰ï¼‰
pip install -r requirements-dev.txt
```

### 2. é…ç½®ç¯å¢ƒ

å¤åˆ¶ç¯å¢ƒå˜é‡æ¨¡æ¿ï¼š
```bash
copy .env.example .env
```

ç¼–è¾‘ `.env` æ–‡ä»¶ï¼Œé…ç½®å¿…è¦å‚æ•°ï¼š
```env
# å¿…é¡»é…ç½®
OPENAI_API_KEY=your_openai_api_key_here

# å¯é€‰é…ç½®
WECHAT_CONTACT_NAME=æ–‡ä»¶ä¼ è¾“åŠ©æ‰‹
RSS_FEED_URL=https://36kr.com/feed
CHECK_INTERVAL_MINUTES=5
```

### 3. è¿è¡ŒæœåŠ¡

```bash
# ç›´æ¥è¿è¡Œ
python run.py

# æˆ–ä½¿ç”¨PowerShellè„šæœ¬ï¼ˆWindowsï¼‰
.\dev.ps1 run

# æˆ–ä½¿ç”¨Makefileï¼ˆLinux/Macï¼‰
make run
```

## å¼€å‘æŒ‡å—

### é¡¹ç›®ç»“æ„

```
wechat-rss-auto-sender/
â”œâ”€â”€ src/                    # æºä»£ç 
â”‚   â”œâ”€â”€ __init__.py
â”‚   â”œâ”€â”€ main.py            # ä¸»ç¨‹åºå…¥å£
â”‚   â”œâ”€â”€ config.py          # é…ç½®ç®¡ç†
â”‚   â”œâ”€â”€ utils.py           # å·¥å…·å‡½æ•°(æ—¥å¿—ç­‰)
â”‚   â”œâ”€â”€ rss_fetcher.py     # RSSè·å–æ¨¡å—
â”‚   â”œâ”€â”€ summarizer.py      # AIæ€»ç»“æ¨¡å—
â”‚   â”œâ”€â”€ wechat_sender.py   # å¾®ä¿¡å‘é€æ¨¡å—
â”‚   â””â”€â”€ scheduler.py       # ä»»åŠ¡è°ƒåº¦æ¨¡å—
â”œâ”€â”€ tests/                 # å•å…ƒæµ‹è¯•
â”‚   â”œâ”€â”€ __init__.py
â”‚   â”œâ”€â”€ conftest.py
â”‚   â”œâ”€â”€ test_config.py
â”‚   â”œâ”€â”€ test_rss_fetcher.py
â”‚   â”œâ”€â”€ test_summarizer.py
â”‚   â”œâ”€â”€ test_wechat_sender.py
â”‚   â””â”€â”€ test_integration.py
â”œâ”€â”€ scripts/               # è„šæœ¬å·¥å…·
â”‚   â”œâ”€â”€ manual_test.py     # æ‰‹åŠ¨æµ‹è¯•è„šæœ¬
â”‚   â”œâ”€â”€ cache_test.py      # ç¼“å­˜æµ‹è¯•è„šæœ¬
â”‚   â”œâ”€â”€ simple_test.py     # ç®€å•æµ‹è¯•è„šæœ¬
â”‚   â””â”€â”€ verify.py          # éªŒè¯è„šæœ¬
â”œâ”€â”€ cache/                 # ç¼“å­˜ç›®å½•ï¼ˆè‡ªåŠ¨åˆ›å»ºï¼‰
â”œâ”€â”€ logs/                  # æ—¥å¿—ç›®å½•
â”œâ”€â”€ .env                   # ç¯å¢ƒé…ç½®
â”œâ”€â”€ .env.example           # é…ç½®æ¨¡æ¿
â”œâ”€â”€ requirements.txt       # ç”Ÿäº§ä¾èµ–
â”œâ”€â”€ requirements-dev.txt   # å¼€å‘ä¾èµ–
â”œâ”€â”€ pyproject.toml         # é¡¹ç›®é…ç½®
â”œâ”€â”€ .flake8               # ä»£ç æ£€æŸ¥é…ç½®
â”œâ”€â”€ Makefile              # Makeå‘½ä»¤
â”œâ”€â”€ dev.ps1               # PowerShellè„šæœ¬
â”œâ”€â”€ run.py                # å¯åŠ¨è„šæœ¬
â””â”€â”€ README.md             # è¯´æ˜æ–‡æ¡£
```

### å¼€å‘å‘½ä»¤

#### Windows (PowerShell)

```bash
# æŸ¥çœ‹æ‰€æœ‰å¯ç”¨å‘½ä»¤
.\dev.ps1 help

# å®‰è£…å¼€å‘ä¾èµ–
.\dev.ps1 install-dev

# è¿è¡Œæµ‹è¯•
.\dev.ps1 test

# è¿è¡Œæµ‹è¯•å¹¶ç”Ÿæˆè¦†ç›–ç‡æŠ¥å‘Š
.\dev.ps1 test-cov

# ä»£ç æ£€æŸ¥
.\dev.ps1 lint

# æ ¼å¼åŒ–ä»£ç 
.\dev.ps1 format

# ç±»å‹æ£€æŸ¥
.\dev.ps1 type-check

# æ¸…ç†ä¸´æ—¶æ–‡ä»¶
.\dev.ps1 clean

# è¿è¡ŒéªŒè¯è„šæœ¬
.\dev.ps1 verify
```

#### Linux/Mac (Make)

```bash
# æŸ¥çœ‹æ‰€æœ‰å¯ç”¨å‘½ä»¤
make help

# å®‰è£…å¼€å‘ä¾èµ–
make install-dev

# è¿è¡Œæµ‹è¯•
make test

# è¿è¡Œæµ‹è¯•å¹¶ç”Ÿæˆè¦†ç›–ç‡æŠ¥å‘Š
make test-cov

# ä»£ç æ£€æŸ¥
make lint

# æ ¼å¼åŒ–ä»£ç 
make format

# ç±»å‹æ£€æŸ¥
make type-check

# æ¸…ç†ä¸´æ—¶æ–‡ä»¶
make clean

# è¿è¡ŒéªŒè¯è„šæœ¬
make verify
```

### æµ‹è¯•

é¡¹ç›®åŒ…å«å®Œæ•´çš„æµ‹è¯•å¥—ä»¶ï¼š

- **å•å…ƒæµ‹è¯•**: æµ‹è¯•å„ä¸ªæ¨¡å—çš„åŠŸèƒ½
- **é›†æˆæµ‹è¯•**: æµ‹è¯•æ¨¡å—é—´çš„äº¤äº’
- **è¦†ç›–ç‡æŠ¥å‘Š**: ç¡®ä¿ä»£ç è¦†ç›–ç‡

è¿è¡Œæµ‹è¯•ï¼š
```bash
# è¿è¡Œæ‰€æœ‰æµ‹è¯•
pytest

# è¿è¡Œç‰¹å®šæµ‹è¯•æ–‡ä»¶
pytest tests/test_rss_fetcher.py

# è¿è¡Œæµ‹è¯•å¹¶æ˜¾ç¤ºè¦†ç›–ç‡
pytest --cov=src --cov-report=term-missing

# ç”ŸæˆHTMLè¦†ç›–ç‡æŠ¥å‘Š
pytest --cov=src --cov-report=html
```

### ä»£ç è´¨é‡

é¡¹ç›®ä½¿ç”¨ä»¥ä¸‹å·¥å…·ç¡®ä¿ä»£ç è´¨é‡ï¼š

- **Black**: ä»£ç æ ¼å¼åŒ–
- **isort**: importæ’åº
- **flake8**: ä»£ç é£æ ¼æ£€æŸ¥
- **mypy**: ç±»å‹æ£€æŸ¥
- **pytest**: å•å…ƒæµ‹è¯•

## é…ç½®è¯´æ˜

| é…ç½®é¡¹ | è¯´æ˜ | é»˜è®¤å€¼ |
|--------|------|--------|
| `OPENAI_API_KEY` | AI APIå¯†é’¥ (å¿…éœ€) | - |
| `WECHAT_CONTACT_NAME` | å¾®ä¿¡å‘é€ç›®æ ‡ | æ–‡ä»¶ä¼ è¾“åŠ©æ‰‹ |
| `RSS_FEED_URL` | RSSæºåœ°å€ | https://36kr.com/feed-article |
| `CHECK_INTERVAL_MINUTES` | RSSæ£€æŸ¥é—´éš”(åˆ†é’Ÿ) | 5 |
| `OPENAI_BASE_URL` | AI APIåœ°å€ | https://api.deepseek.com/v1 |
| `SUMMARY_MIN_LENGTH` | æ€»ç»“æœ€å°å­—æ•° | 150 |
| `SUMMARY_MAX_LENGTH` | æ€»ç»“æœ€å¤§å­—æ•° | 300 |
| `MIN_QUALITY_SCORE` | æœ€ä½è´¨é‡åˆ†æ•°è¦æ±‚ | 7 |
| `SEND_START_HOUR` | å…è®¸å‘é€å¼€å§‹æ—¶é—´ | 9 |
| `SEND_END_HOUR` | å…è®¸å‘é€ç»“æŸæ—¶é—´ | 24 |
| `SEND_RANDOM_DELAY_MAX` | éšæœºå»¶è¿Ÿæœ€å¤§å€¼(ç§’) | 15 |

### ğŸ• æ—¶é—´æ§åˆ¶è¯´æ˜

- **å‘é€æ—¶æ®µ**: é»˜è®¤åœ¨9:00-24:00ä¹‹é—´å‘é€ï¼Œå¤œé—´(0:00-9:00)ä¸å‘é€
- **éšæœºå»¶è¿Ÿ**: æ¯æ¬¡å‘é€å‰ä¼šæœ‰0-15ç§’çš„éšæœºå»¶è¿Ÿï¼Œé¿å…è¿‡äºæœºæ¢°åŒ–
- **è´¨é‡æ§åˆ¶**: åªæœ‰AIè¯„åˆ†â‰¥7åˆ†çš„æ–‡ç« æ‰ä¼šè¢«å‘é€

## ç¼“å­˜æœºåˆ¶

ç³»ç»Ÿå®ç°äº†æ™ºèƒ½ç¼“å­˜æœºåˆ¶ï¼š

- **æŒ‰å¤©å»é‡**: ç›¸åŒæ—¥æœŸå†…çš„é‡å¤æ ‡é¢˜ä¼šè¢«è‡ªåŠ¨è¿‡æ»¤
- **è‡ªåŠ¨æ¸…ç†**: 7å¤©å‰çš„ç¼“å­˜æ–‡ä»¶ä¼šè¢«è‡ªåŠ¨åˆ é™¤
- **æŒä¹…åŒ–å­˜å‚¨**: ç¼“å­˜æ•°æ®å­˜å‚¨åœ¨ `cache/` ç›®å½•çš„JSONæ–‡ä»¶ä¸­

## å¸¸è§é—®é¢˜

### Q: å¾®ä¿¡è¿æ¥å¤±è´¥ï¼Ÿ
A: 
- ç¡®ä¿å¾®ä¿¡PCç‰ˆå·²ç™»å½•
- æ£€æŸ¥wxautoåº“æ˜¯å¦æ­£ç¡®å®‰è£…
- å°è¯•é‡å¯å¾®ä¿¡å®¢æˆ·ç«¯

### Q: AIæ€»ç»“å¤±è´¥ï¼Ÿ
A: 
- æ£€æŸ¥OpenAI APIå¯†é’¥æ˜¯å¦æ­£ç¡®
- æ£€æŸ¥ç½‘ç»œè¿æ¥
- æ£€æŸ¥APIé…é¢æ˜¯å¦å……è¶³

### Q: RSSè·å–å¤±è´¥ï¼Ÿ
A: 
- æ£€æŸ¥RSSåœ°å€æ˜¯å¦æœ‰æ•ˆ
- æ£€æŸ¥ç½‘ç»œè¿æ¥
- å°è¯•æ›´æ¢RSSæº

### Q: æµ‹è¯•å¤±è´¥ï¼Ÿ
A:
- ç¡®ä¿å®‰è£…äº†å¼€å‘ä¾èµ–ï¼š`pip install -r requirements-dev.txt`
- æ£€æŸ¥Pythonç‰ˆæœ¬æ˜¯å¦ >= 3.8
- è¿è¡Œ `pytest --tb=short` æŸ¥çœ‹è¯¦ç»†é”™è¯¯ä¿¡æ¯

## è®¸å¯è¯

MIT License

## è´¡çŒ®

æ¬¢è¿æäº¤Issueå’ŒPull Requestï¼

1. Forké¡¹ç›®
2. åˆ›å»ºç‰¹æ€§åˆ†æ”¯ï¼š`git checkout -b feature/new-feature`
3. æäº¤æ›´æ”¹ï¼š`git commit -am 'Add new feature'`
4. æ¨é€åˆ†æ”¯ï¼š`git push origin feature/new-feature`
5. æäº¤Pull Request

### è´¡çŒ®æŒ‡å—

1. ç¡®ä¿ä»£ç é€šè¿‡æ‰€æœ‰æµ‹è¯•
2. è¿è¡Œä»£ç æ ¼å¼åŒ–ï¼š`.\dev.ps1 format`
3. è¿è¡Œä»£ç æ£€æŸ¥ï¼š`.\dev.ps1 lint`
4. æ·»åŠ é€‚å½“çš„æµ‹è¯•ç”¨ä¾‹
5. æ›´æ–°æ–‡æ¡£ï¼ˆå¦‚æœ‰å¿…è¦ï¼‰
