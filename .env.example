# ================================================
# 微信RSS自动发送器 - 环境配置示例
# ================================================
# 复制此文件为 .env 并根据需要修改配置

# ================================================
# 发送器配置
# ================================================
# 可以启用多个发送器，用逗号分隔: wechat,xiaohongshu,wechat_official
ENABLED_SENDERS=wechat

# ================================================ 
# 微信发送器配置
# ================================================
WECHAT_SENDER_ENABLED=true
WECHAT_CONTACT_NAME=文件传输助手

# ================================================
# 小红书发送器配置  
# ================================================
XIAOHONGSHU_SENDER_ENABLED=false
# 如果要启用小红书发送器，需要配置以下信息：
# XIAOHONGSHU_COOKIE=your_xiaohongshu_cookie_here  # 从浏览器获取的Cookie
XIAOHONGSHU_USER_AGENT=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/91.0.4472.124 Safari/537.36
XIAOHONGSHU_PUBLISH_DELAY=5  # 发布间隔（秒）

# ================================================
# 微信公众号发送器配置
# ================================================
WECHAT_OFFICIAL_SENDER_ENABLED=false
# 如果要启用微信公众号发送器，需要配置以下信息：
# WECHAT_OFFICIAL_APP_ID=your_app_id_here      # 公众号AppID
# WECHAT_OFFICIAL_APP_SECRET=your_app_secret_here  # 公众号AppSecret

# 微信公众号HTML格式化配置
WECHAT_OFFICIAL_USE_RICH_FORMATTING=true  # 是否使用丰富的HTML格式
WECHAT_OFFICIAL_FOOTER_TEXT=📱 更多资讯，请关注我们  # 页脚文本
WECHAT_OFFICIAL_AUTHOR_NAME=RSS助手  # 作者名称

# ================================================
# RSS源配置
# ================================================
RSS_FEED_URL=https://36kr.com/feed-article
CHECK_INTERVAL_MINUTES=30  # 检查频率：每30分钟检查一次RSS
FETCH_ARTICLES_HOURS=2    # 文章获取范围：每次获取最近2小时的文章

# RSS质量过滤
RSS_MIN_CONTENT_LENGTH=200  # 最小内容长度
RSS_EXCLUDE_KEYWORDS=广告,推广  # 排除包含特定关键词的文章

# ================================================
# 代理配置
# ================================================
# 如果需要使用代理访问RSS或API，请取消注释并配置
# PROXY_URL=http://localhost:7897
# PROXY_TYPE=http  # 支持 http, socks5

# ================================================
# AI总结配置
# ================================================
OPENAI_API_KEY=your_openai_api_key_here
OPENAI_BASE_URL=https://api.deepseek.com/v1  # 可选，使用其他兼容API
OPENAI_MODEL=gpt-3.5-turbo  # AI模型
OPENAI_TEMPERATURE=0.7      # 创造性，0-1之间
OPENAI_MAX_TOKENS=1000      # 最大令牌数

# AI总结参数
SUMMARY_MIN_LENGTH=150
SUMMARY_MAX_LENGTH=300
SUMMARY_LANGUAGE=zh-CN      # 总结语言
SUMMARY_STYLE=professional  # 总结风格: professional, casual, technical

# ================================================
# 发送控制配置
# ================================================
MAX_ARTICLES_PER_BATCH=3    # 每批最大文章数
SEND_INTERVAL_MINUTES=5     # 发送间隔（分钟）
MIN_QUALITY_SCORE=7         # 最小质量分数（1-10）

# 去重配置
ENABLE_DEDUPLICATION=true   # 启用去重
SIMILARITY_THRESHOLD=0.8    # 相似度阈值

# ================================================
# 发送时间控制
# ================================================
SEND_START_HOUR=9          # 允许发送开始时间（24小时制）
SEND_END_HOUR=21           # 允许发送结束时间（24小时制）
SEND_RANDOM_DELAY_MAX=60   # 随机延迟最大值（秒）

# 工作日配置
SEND_WEEKDAYS_ONLY=false   # 仅工作日发送
SEND_WEEKEND_START_HOUR=10 # 周末开始发送时间
SEND_WEEKEND_END_HOUR=20   # 周末结束发送时间

# ================================================
# 图片处理配置
# ================================================
DOWNLOAD_IMAGES=true       # 是否下载文章图片
IMAGE_CACHE_DAYS=7         # 图片缓存天数
IMAGE_MAX_SIZE_MB=5        # 单张图片最大大小（MB）
IMAGE_QUALITY=80           # 图片压缩质量（1-100）

# 图片存储路径
IMAGE_CACHE_DIR=images     # 图片缓存目录
IMAGE_FORMATS=jpg,png,webp # 支持的图片格式

# ================================================
# 缓存配置
# ================================================
CACHE_ENABLED=true         # 启用缓存
CACHE_DIR=cache           # 缓存目录
CACHE_EXPIRE_HOURS=24     # 缓存过期时间（小时）
CACHE_MAX_SIZE_MB=100     # 缓存最大大小（MB）

# ================================================
# 日志配置
# ================================================
LOG_LEVEL=INFO            # 日志级别: DEBUG, INFO, WARNING, ERROR
LOG_FILE=logs/app.log     # 日志文件路径
LOG_MAX_SIZE_MB=10        # 单个日志文件最大大小（MB）
LOG_BACKUP_COUNT=5        # 日志文件备份数量
LOG_FORMAT=detailed       # 日志格式: simple, detailed, json

# 控制台日志
LOG_CONSOLE_ENABLED=true  # 是否在控制台输出日志
LOG_CONSOLE_LEVEL=INFO    # 控制台日志级别

# ================================================
# 数据库配置（可选）
# ================================================
# 如果需要持久化存储，可以配置数据库
# DATABASE_URL=sqlite:///data/app.db
# DATABASE_POOL_SIZE=5
# DATABASE_MAX_CONNECTIONS=10

# ================================================
# 监控和通知配置
# ================================================
# 错误通知
ERROR_NOTIFICATION_ENABLED=false
# ERROR_NOTIFICATION_WEBHOOK=your_webhook_url_here
# ERROR_NOTIFICATION_EMAIL=your_email@example.com

# 统计报告
STATS_ENABLED=true         # 启用统计
STATS_REPORT_INTERVAL=24   # 统计报告间隔（小时）

# ================================================
# 安全配置
# ================================================
# API密钥加密
ENCRYPT_API_KEYS=false     # 是否加密存储API密钥
# ENCRYPTION_KEY=your_encryption_key_here

# 访问控制
ENABLE_API_AUTH=false      # 启用API认证
# API_SECRET_KEY=your_secret_key_here

# ================================================
# 性能配置
# ================================================
CONCURRENT_WORKERS=3       # 并发工作进程数
REQUEST_TIMEOUT=30         # 请求超时时间（秒）
RETRY_MAX_ATTEMPTS=3       # 最大重试次数
RETRY_DELAY=5             # 重试延迟（秒）

# 内存限制
MAX_MEMORY_MB=512         # 最大内存使用（MB）
GC_THRESHOLD=0.8          # 垃圾回收阈值

# ================================================
# 开发和调试配置
# ================================================
DEBUG_MODE=false          # 调试模式
DRY_RUN=false            # 干运行模式（不实际发送）
VERBOSE_LOGGING=false     # 详细日志

# 测试配置
TEST_MODE=false          # 测试模式
TEST_RSS_URL=https://httpbin.org/xml  # 测试RSS源